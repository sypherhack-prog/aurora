[{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\prisma\\create-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\prisma\\seed.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\prisma\\seed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\seed-admin.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":35,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":4,"column":1,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":4,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\api.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\auth.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\constants.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\usage.test.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[413,416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[413,416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[479,482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[479,482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[581,584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[581,584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { describe, it, expect, beforeEach, vi } from 'vitest'\r\nimport { validateUsageLimit } from '../lib/usage'\r\nimport { APP_CONSTANTS } from '../lib/constants'\r\n\r\n// Mock prisma and strict types\r\nconst mockFindUnique = vi.fn()\r\nconst mockFindFirst = vi.fn()\r\nconst mockUpdate = vi.fn()\r\n\r\nvi.mock('../lib/db', () => ({\r\n    __esModule: true,\r\n    default: {\r\n        user: {\r\n            findUnique: (...args: any[]) => mockFindUnique(...args),\r\n            update: (...args: any[]) => mockUpdate(...args),\r\n        },\r\n        subscription: {\r\n            findFirst: (...args: any[]) => mockFindFirst(...args),\r\n        },\r\n    },\r\n}))\r\n\r\ndescribe('validateUsageLimit', () => {\r\n    beforeEach(() => {\r\n        vi.clearAllMocks()\r\n    })\r\n\r\n    it('should allow usage for FREE user under limit', async () => {\r\n        // Mock FREE plan (no active subscription)\r\n        mockFindFirst.mockResolvedValue(null)\r\n        // Mock user with usage count 0\r\n        mockFindUnique.mockResolvedValue({ role: 'USER', aiUsageCount: 0 })\r\n\r\n        await expect(validateUsageLimit('user-id')).resolves.not.toThrow()\r\n\r\n        // Should verify it tries to increment\r\n        expect(mockUpdate).toHaveBeenCalled()\r\n    })\r\n\r\n    it('should throw LIMIT_REACHED for FREE user at limit', async () => {\r\n        // Mock FREE plan\r\n        mockFindFirst.mockResolvedValue(null)\r\n        // Mock user with usage count >= MAX_FREE_GENERATIONS\r\n        mockFindUnique.mockResolvedValue({ role: 'USER', aiUsageCount: APP_CONSTANTS.MAX_FREE_GENERATIONS })\r\n\r\n        await expect(validateUsageLimit('user-id')).rejects.toThrow('LIMIT_REACHED')\r\n\r\n        // Should NOT increment\r\n        expect(mockUpdate).not.toHaveBeenCalled()\r\n    })\r\n\r\n    it('should allow usage for PRO user over free limit', async () => {\r\n        // Mock PRO plan\r\n        mockFindFirst.mockResolvedValue({ plan: 'PRO' })\r\n        // Note: usage check is skipped for non-FREE, so we don't mock user query for usage\r\n        // But validateUsageLimit calls getUserPlan which checks activeSub\r\n        // then if not FREE, it returns early.\r\n\r\n        await expect(validateUsageLimit('user-id')).resolves.not.toThrow()\r\n    })\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\utilities.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\__tests__\\validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\components\\AdminSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\components\\RecentActivity.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\components\\StatsGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\subscriptions\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\subscriptions\\subscription-actions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\admin\\users\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\api\\ai\\format\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'logger' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"logger"},"fix":{"range":[254,291],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":83,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2715,2718],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2715,2718],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { NextRequest, NextResponse } from 'next/server'\nimport { getServerSession } from 'next-auth'\nimport { authOptions } from '@/lib/auth'\nimport { processAIRequest, AIAction } from '@/lib/groq'\nimport { logger } from '@/lib/logger'\nimport { checkRateLimit, getClientIP, RATE_LIMITS } from '@/lib/rate-limit'\nimport { validateUsageLimit } from '@/lib/usage'\n\n// Valid AI actions whitelist\nconst VALID_ACTIONS = [\n    'auto-format',\n    'fix-errors',\n    'continue-writing',\n    'suggest-ideas',\n    'summarize',\n    'generate-table',\n    'improve-paragraph',\n    'smart-heading',\n    'improve-spacing',\n    'translate',\n    'translate-selection',\n] as const\n\nexport async function POST(req: NextRequest) {\n    try {\n        // 0. Rate limiting\n        const ip = getClientIP(req)\n        const rateLimit = checkRateLimit(`ai:${ip}`, RATE_LIMITS.AI)\n\n        if (!rateLimit.success) {\n            return NextResponse.json(\n                { error: 'Trop de requ√™tes. R√©essayez plus tard.' },\n                {\n                    status: 429,\n                    headers: {\n                        'Retry-After': rateLimit.resetIn.toString(),\n                        'X-RateLimit-Remaining': '0',\n                    }\n                }\n            )\n        }\n\n        // 1. Check Authentication\n        const session = await getServerSession(authOptions)\n\n        if (!session?.user?.id) {\n            return NextResponse.json({ error: 'Non authentifi√©' }, { status: 401 })\n        }\n\n        const userId = session.user.id\n\n        // 2. Check Subscription & Limits\n        await validateUsageLimit(userId)\n\n        const { action, content, selection, theme, documentType } = await req.json()\n\n        // Validate action is in whitelist\n        if (!VALID_ACTIONS.includes(action)) {\n            return NextResponse.json({ error: 'Action invalide' }, { status: 400 })\n        }\n\n        // Validate input\n        if (!content && !selection && action !== 'generate-table' && action !== 'suggest-ideas') {\n            return NextResponse.json({ error: 'Contenu requis' }, { status: 400 })\n        }\n\n        // Limit content size to prevent abuse\n        const textToProcess = selection || content || ''\n        if (textToProcess.length > 50000) {\n            return NextResponse.json({ error: 'Contenu trop long (max 50000 caract√®res)' }, { status: 400 })\n        }\n\n        // Call Gemini API\n        const result = await processAIRequest({\n            action: action as AIAction,\n            content: textToProcess,\n            theme,\n            documentType,\n        })\n\n        return NextResponse.json({ success: true, result })\n    } catch (error: any) {\n        console.error('‚ùå AI ROUTE ERROR:', {\n            message: error.message,\n            stack: error.stack,\n            cause: error.cause,\n            name: error.name\n        })\n\n        if (error.message === 'LIMIT_REACHED') {\n            return NextResponse.json(\n                {\n                    error: 'Limite gratuite atteinte (5/5). Veuillez passer au plan sup√©rieur.',\n                    code: 'LIMIT_REACHED',\n                },\n                { status: 403 }\n            )\n        }\n\n        if (error.message === 'USER_NOT_FOUND' || error.code === 'P2025') {\n            return NextResponse.json(\n                { error: 'Utilisateur introuvable. Veuillez vous reconnecter.' },\n                { status: 401 }\n            )\n        }\n\n        // Return the actual error message in dev mode for debugging\n        return NextResponse.json(\n            { error: `Erreur interne: ${error.message}` },\n            { status: 500 }\n        )\n    }\n}\n\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[183,186],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[183,186],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[193,196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[193,196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import NextAuth from 'next-auth'\nimport { authOptions } from '@/lib/auth'\n\nexport const dynamic = 'force-dynamic'\n\n// Log every request hitting this route\nconst handler = async (req: any, ctx: any) => {\n    console.log(`üì• [NextAuth] Request: ${req.method} ${req.url}`)\n    return NextAuth(authOptions)(req, ctx)\n}\n\nexport { handler as GET, handler as POST }\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1622,1625],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1622,1625],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server'\nimport { logger } from '@/lib/logger'\nimport { checkRateLimit, getClientIP, RATE_LIMITS } from '@/lib/rate-limit'\nimport { validateRegistration, userExists, createUserWithSubscription } from '@/lib/user-service'\n\nexport async function POST(req: NextRequest) {\n    try {\n        // Rate limiting to prevent brute-force\n        const ip = getClientIP(req)\n        const rateLimit = checkRateLimit(`register:${ip}`, RATE_LIMITS.AUTH)\n\n        if (!rateLimit.success) {\n            return NextResponse.json(\n                { error: 'Trop de tentatives. R√©essayez dans quelques minutes.' },\n                {\n                    status: 429,\n                    headers: {\n                        'Retry-After': rateLimit.resetIn.toString(),\n                        'X-RateLimit-Remaining': '0',\n                    }\n                }\n            )\n        }\n\n        const { name, email, password } = await req.json()\n\n        const validationError = validateRegistration(name, email, password)\n        if (validationError) {\n            return NextResponse.json({ error: validationError }, { status: 400 })\n        }\n\n        if (await userExists(email)) {\n            // Use same error message to prevent email enumeration\n            return NextResponse.json({ error: 'Impossible de cr√©er le compte. V√©rifiez vos informations.' }, { status: 400 })\n        }\n\n        await createUserWithSubscription(name, email, password)\n\n        return NextResponse.json({\n            success: true,\n            message: 'Compte cr√©√© avec succ√®s',\n        })\n    } catch (error: any) {\n        if (error.message === 'MAX_USERS_REACHED') {\n            return NextResponse.json(\n                { error: 'Le nombre maximum d\\'utilisateurs a √©t√© atteint. Les inscriptions sont temporairement ferm√©es.' },\n                { status: 403 }\n            )\n        }\n        logger.error('Registration error:', error)\n        return NextResponse.json({ error: 'Erreur lors de la cr√©ation du compte' }, { status: 500 })\n    }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\api\\export\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\api\\subscribe\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\auth\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\n\nimport { useState, Suspense } from 'react'\nimport { signIn } from 'next-auth/react'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport Link from 'next/link'\nimport { Sparkles, Mail, Lock, Loader2, ArrowRight } from 'lucide-react'\n\nfunction LoginForm() {\n    const router = useRouter()\n    const searchParams = useSearchParams()\n    const callbackUrl = searchParams.get('callbackUrl') || '/editor'\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState('')\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault()\n        setLoading(true)\n        setError('')\n\n        try {\n            const result = await signIn('credentials', {\n                email,\n                password,\n                redirect: false,\n            })\n\n            if (result?.error) {\n                setError('Email ou mot de passe incorrect')\n                setLoading(false)\n            } else if (result?.ok) {\n                // Use window.location for reliable navigation\n                window.location.href = callbackUrl\n            } else {\n                setError(\"Erreur de connexion. Veuillez r√©essayer.\")\n                setLoading(false)\n            }\n        } catch {\n            setError(\"Une erreur inattendue est survenue.\")\n            setLoading(false)\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\n                    Email\n                </label>\n                <div className=\"relative\">\n                    <Mail className=\"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\" />\n                    <input\n                        type=\"email\"\n                        id=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        placeholder=\"votre@email.com\"\n                        required\n                        className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition\"\n                    />\n                </div>\n            </div>\n\n            <div>\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-zinc-300 mb-2\">\n                    Mot de passe\n                </label>\n                <div className=\"relative\">\n                    <Lock className=\"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500\" />\n                    <input\n                        type=\"password\"\n                        id=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                        required\n                        className=\"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-zinc-500 focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition\"\n                    />\n                </div>\n            </div>\n\n            {error && (\n                <div className=\"p-4 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm\">\n                    {error}\n                </div>\n            )}\n\n            <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white py-3 px-4 rounded-lg font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-cyan-500/25\"\n            >\n                {loading ? (\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                ) : (\n                    <>\n                        Se connecter\n                        <ArrowRight className=\"w-4 h-4\" />\n                    </>\n                )}\n            </button>\n        </form>\n    )\n}\n\nexport default function UserLoginPage() {\n    return (\n        <div className=\"min-h-screen bg-zinc-950 flex items-center justify-center px-4 relative overflow-hidden\">\n            {/* Background Effects */}\n            <div className=\"absolute inset-0 overflow-hidden\">\n                <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl\" />\n                <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-600/10 rounded-full blur-3xl\" />\n            </div>\n\n            <div className=\"w-full max-w-md relative z-10\">\n                {/* Logo */}\n                <div className=\"text-center mb-8\">\n                    <Link href=\"/\" className=\"inline-flex items-center gap-3 mb-6\">\n                        <div className=\"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-xl flex items-center justify-center\">\n                            <Sparkles className=\"w-6 h-6 text-white\" />\n                        </div>\n                        <span className=\"font-bold text-2xl text-white\">Aurora AI</span>\n                    </Link>\n                    <h1 className=\"text-2xl font-bold text-white mb-2\">Bienvenue</h1>\n                    <p className=\"text-zinc-400\">Connectez-vous √† votre compte</p>\n                </div>\n\n                {/* Login Form */}\n                <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-8 backdrop-blur-sm\">\n                    <Suspense\n                        fallback={\n                            <div className=\"flex justify-center p-8\">\n                                <Loader2 className=\"w-8 h-8 animate-spin text-cyan-500\" />\n                            </div>\n                        }\n                    >\n                        <LoginForm />\n                    </Suspense>\n\n                    <div className=\"mt-6 text-center\">\n                        <p className=\"text-zinc-400 text-sm\">\n                            Pas encore de compte ?{' '}\n                            <Link href=\"/auth/register\" className=\"text-cyan-400 hover:text-cyan-300 transition\">\n                                Cr√©er un compte\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n\n                {/* Footer */}\n                <div className=\"text-center mt-6\">\n                    <Link href=\"/\" className=\"text-sm text-zinc-400 hover:text-white transition\">\n                        ‚Üê Retour √† l&apos;accueil\n                    </Link>\n                </div>\n            </div>\n        </div>\n    )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\auth\\register\\page.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2139,2142],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2139,2142],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":142,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4895,4898],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4895,4898],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\components\\AIPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\components\\EditorSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\components\\EditorToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\components\\ExportModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\components\\NewDocModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\editor\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useRef' is defined but never used.","line":3,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":50,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useRef"},"fix":{"range":[55,63],"text":""},"desc":"Remove unused variable \"useRef\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":122,"column":13,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":122,"endColumn":26,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[4416,4429],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":190,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7329,7332],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7329,7332],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\n\nimport { useState, useEffect, useCallback, useRef } from 'react'\nimport { useEditor, EditorContent } from '@tiptap/react'\nimport StarterKit from '@tiptap/starter-kit'\nimport TextAlign from '@tiptap/extension-text-align'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport { Table } from '@tiptap/extension-table'\nimport { TableRow } from '@tiptap/extension-table-row'\nimport { TableCell } from '@tiptap/extension-table-cell'\nimport { TableHeader } from '@tiptap/extension-table-header'\nimport { useSession } from 'next-auth/react'\nimport {\n    FileText,\n    Sparkles,\n    ChevronRight,\n    Loader2,\n    Download,\n    Check,\n    X,\n    GraduationCap,\n    BookOpen,\n    Briefcase,\n    Mail,\n    PenTool,\n} from 'lucide-react'\nimport { logger } from '@/lib/logger'\nimport { APP_CONSTANTS } from '@/lib/constants'\n\n// Components\nimport { AIPanel } from './components/AIPanel'\nimport { EditorSidebar } from './components/EditorSidebar'\nimport { EditorToolbar } from './components/EditorToolbar'\nimport { NewDocModal } from './components/NewDocModal'\nimport { ExportModal } from './components/ExportModal'\nimport { useEditorDictation } from '@/hooks/useEditorDictation'\n\nconst DOC_TITLES: Record<string, string> = {\n    exam: \"Sujet d'Examen\",\n    notes: 'Notes de Cours',\n    report: 'Rapport de Stage',\n    'cover-letter': 'Lettre de Motivation',\n    manuscript: 'Manuscrit',\n}\n\nexport default function EditorPage() {\n    const { data: session } = useSession()\n    const [mounted, setMounted] = useState(false)\n    const [aiPanelOpen, setAiPanelOpen] = useState(true)\n    const [aiLoading, setAiLoading] = useState<string | null>(null)\n    const [wordCount, setWordCount] = useState(0)\n    const [charCount, setCharCount] = useState(0)\n    const [activeTab, setActiveTab] = useState('documents')\n    const [showExportModal, setShowExportModal] = useState(false)\n    const [showNewDocModal, setShowNewDocModal] = useState(false)\n    const [exportLoading, setExportLoading] = useState(false)\n    const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null)\n    const [docTheme, setDocTheme] = useState('general')\n    const [docType, setDocType] = useState('document')\n    const [translationLang, setTranslationLang] = useState('Anglais')\n\n    const [headings, setHeadings] = useState<{ level: number; text: string; pos: number }[]>([])\n\n    const editor = useEditor({\n        extensions: [\n            StarterKit,\n            TextAlign.configure({\n                types: ['heading', 'paragraph'],\n            }),\n            Placeholder.configure({\n                placeholder: \"Commencez √† √©crire... L'IA formatera automatiquement.\",\n            }),\n            Table.configure({\n                resizable: true,\n            }),\n            TableRow,\n            TableHeader,\n            TableCell,\n        ],\n        content: '',\n        editorProps: {\n            attributes: {\n                class: 'prose prose-invert max-w-none focus:outline-none min-h-[500px] p-4',\n            },\n        },\n        immediatelyRender: false,\n        onUpdate: ({ editor }) => {\n            const text = editor.getText()\n            setWordCount(text.split(/\\s+/).filter((w) => w.length > 0).length)\n            setCharCount(text.length)\n\n            // Extract headings for ToC\n            const newHeadings: { level: number; text: string; pos: number }[] = []\n            editor.state.doc.descendants((node, pos) => {\n                if (node.type.name === 'heading') {\n                    newHeadings.push({\n                        level: node.attrs.level,\n                        text: node.textContent,\n                        pos: pos,\n                    })\n                }\n            })\n            setHeadings(newHeadings)\n        },\n    })\n\n    // Navigation Helper\n    const scrollToHeading = (pos: number) => {\n        if (!editor) return\n        editor.chain().focus().setTextSelection(pos).run()\n        const dom = editor.view.domAtPos(pos).node as HTMLElement\n        if (dom && dom.scrollIntoView) {\n            dom.scrollIntoView({ behavior: 'smooth', block: 'start' })\n        }\n    }\n\n    const scrollPage = (direction: 'up' | 'down') => {\n        const scrollAmount = window.innerHeight * 0.8\n        window.scrollBy({\n            top: direction === 'down' ? scrollAmount : -scrollAmount,\n            behavior: 'smooth',\n            // @ts-ignore\n        })\n    }\n\n    useEffect(() => {\n        setMounted(true)\n        // Show modal only if editor is empty and mounted\n        const checkEmpty = setTimeout(() => {\n            if (editor && editor.getText().trim().length === 0) {\n                setShowNewDocModal(true)\n            }\n        }, APP_CONSTANTS.TIMEOUTS.DEBOUNCE)\n        return () => clearTimeout(checkEmpty)\n    }, [editor])\n\n    // Show notification\n    const showNotification = (type: 'success' | 'error', message: string) => {\n        setNotification({ type, message })\n        setTimeout(() => setNotification(null), APP_CONSTANTS.TIMEOUTS.NOTIFICATION)\n    }\n\n    // Dictation Hook\n    const dictation = useEditorDictation(editor, showNotification)\n\n    // Call AI API with context\n    const callAI = useCallback(\n        async (action: string, insertMode: 'replace' | 'append' | 'insert' = 'replace', themeOverride?: string) => {\n            if (!editor) return\n            setAiLoading(action)\n\n            try {\n                const content = editor.getHTML()\n                const { from, to } = editor.state.selection\n                const selection = from !== to ? editor.state.doc.textBetween(from, to) : null\n\n                const res = await fetch('/api/ai/format', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        action,\n                        content,\n                        selection,\n                        theme: themeOverride || docTheme,\n                        documentType: docType,\n                    }),\n                })\n\n                const data = await res.json()\n\n                if (data.success && data.result) {\n                    if (action === 'auto-format' || action === 'fix-errors' || action === 'improve-spacing') {\n                        editor.commands.setContent(data.result)\n                        showNotification('success', 'Document format√© avec succ√®s!')\n                    } else if (insertMode === 'append') {\n                        editor.commands.insertContentAt(editor.state.doc.content.size, data.result)\n                        // Scroll to bottom\n                        setTimeout(() => {\n                            const scrollHeight = document.documentElement.scrollHeight\n                            window.scrollTo(0, scrollHeight)\n                        }, APP_CONSTANTS.TIMEOUTS.SCROLL)\n                    } else {\n                        editor.commands.insertContent(data.result)\n                        showNotification('success', 'Contenu ins√©r√©!')\n                    }\n                } else {\n                    console.error('AI Processing Failed:', data.error)\n                    showNotification('error', data.error || 'Une erreur est survenue lors de la g√©n√©ration.')\n                }\n            } catch (e: any) {\n                logger.error('AI error:', e)\n                showNotification('error', `Erreur connexion: ${e.message || 'Inconnue'}`)\n            } finally {\n                setAiLoading(null)\n            }\n        },\n        [editor, docTheme, docType]\n    )\n\n    // Handle Translation - pass language directly to callAI\n    const handleTranslate = async () => {\n        await callAI('translate', 'replace', translationLang)\n    }\n\n    const handleTranslateSelection = async () => {\n        await callAI('translate-selection', 'replace', translationLang)\n    }\n\n    const createNewDoc = (theme: string, type: string, initialContent?: string) => {\n        setDocTheme(theme)\n        setDocType(type)\n        setShowNewDocModal(false)\n        showNotification('success', 'Nouveau document cr√©√©')\n\n        if (initialContent && editor) {\n            editor.commands.setContent(initialContent)\n            return\n        }\n\n        if (editor) {\n            editor.commands.setContent(APP_CONSTANTS.DEFAULT_CONTENT[type as keyof typeof APP_CONSTANTS.DEFAULT_CONTENT] || '')\n        }\n    }\n\n    // Export document\n    const exportDocument = async (format: 'html' | 'txt' | 'md' | 'pdf' | 'pptx') => {\n        if (!editor) return\n        setExportLoading(true)\n\n        try {\n            const fileName = `document.${format}`\n\n            if (format === 'pdf') {\n                const element = document.querySelector('.ProseMirror') as HTMLElement\n                if (element) {\n                    const { exportToPDF } = await import('@/lib/export-utils')\n                    await exportToPDF(element, fileName)\n                    showNotification('success', 'PDF export√©!')\n                }\n            }\n            else if (format === 'pptx') {\n                const element = document.querySelector('.ProseMirror') as HTMLElement\n                if (element) {\n                    const { exportToPPTX } = await import('@/lib/export-utils')\n                    await exportToPPTX(element, fileName)\n                    showNotification('success', 'PowerPoint export√©!')\n                }\n            }\n            else {\n                // Standard text exports via API\n                const content = editor.getHTML()\n                const res = await fetch('/api/export', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({ content, format, title: 'Document Aurora AI' }),\n                })\n\n                if (res.ok) {\n                    const blob = await res.blob()\n                    const url = window.URL.createObjectURL(blob)\n                    const a = document.createElement('a')\n                    a.href = url\n                    a.download = fileName\n                    document.body.appendChild(a)\n                    a.click()\n                    document.body.removeChild(a)\n                    window.URL.revokeObjectURL(url)\n                    showNotification('success', `Export√© en ${format.toUpperCase()}!`)\n                } else {\n                    showNotification('error', 'Erreur export')\n                }\n            }\n            setShowExportModal(false)\n        } catch (e) {\n            logger.error('Export error:', e)\n            showNotification('error', 'Erreur export')\n        } finally {\n            setExportLoading(false)\n        }\n    }\n\n    if (!mounted) {\n        return (\n            <div className=\"min-h-screen bg-zinc-950 flex items-center justify-center\">\n                <Loader2 className=\"w-8 h-8 text-cyan-400 animate-spin\" />\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"min-h-screen bg-zinc-950 text-white flex\">\n            {/* Notification */}\n            {notification && (\n                <div\n                    className={`fixed top-4 right-4 z-[60] flex items-center gap-2 px-4 py-3 rounded-lg shadow-lg border ${notification.type === 'success'\n                        ? 'bg-zinc-900 border-green-500/30 text-green-400'\n                        : 'bg-zinc-900 border-red-500/30 text-red-400'\n                        }`}\n                >\n                    {notification.type === 'success' ? <Check className=\"w-4 h-4\" /> : <X className=\"w-4 h-4\" />}\n                    {notification.message}\n                </div>\n            )}\n\n            {/* New Document Modal */}\n            <NewDocModal\n                isOpen={showNewDocModal}\n                onClose={() => setShowNewDocModal(false)}\n                onCreateDoc={createNewDoc}\n            />\n\n            {/* Export Modal */}\n            <ExportModal\n                isOpen={showExportModal}\n                onClose={() => setShowExportModal(false)}\n                onExport={exportDocument}\n                loading={exportLoading}\n            />\n\n            {/* Sidebar */}\n            <EditorSidebar\n                session={session || null}\n                activeTab={activeTab}\n                setActiveTab={setActiveTab}\n                onCreateNewDoc={createNewDoc}\n                onOpenNewDocModal={() => setShowNewDocModal(true)}\n                stats={{ wordCount, charCount }}\n                settings={{\n                    docTheme,\n                    aiPanelOpen,\n                    setAiPanelOpen,\n                }}\n                navigation={{\n                    headings,\n                    onScrollToHeading: scrollToHeading,\n                }}\n            />\n\n            {/* Main Content */}\n            <main className=\"flex-1 flex flex-col min-w-0\">\n                {/* Top Bar */}\n                <header className=\"h-14 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-950/80 backdrop-blur-sm z-30\">\n                    <div className=\"flex items-center gap-4\">\n                        <span className=\"text-sm text-zinc-500 hidden sm:inline\">√âditeur</span>\n                        <ChevronRight className=\"w-4 h-4 text-zinc-600 hidden sm:inline\" />\n                        <span className=\"text-sm flex items-center gap-2 font-medium\">\n                            {docType === 'exam' && <GraduationCap className=\"w-4 h-4 text-blue-400\" />}\n                            {docType === 'notes' && <BookOpen className=\"w-4 h-4 text-purple-400\" />}\n                            {docType === 'report' && <Briefcase className=\"w-4 h-4 text-cyan-400\" />}\n                            {docType === 'cover-letter' && <Mail className=\"w-4 h-4 text-green-400\" />}\n                            {docType === 'manuscript' && <PenTool className=\"w-4 h-4 text-orange-400\" />}\n                            {docType === 'document' && <FileText className=\"w-4 h-4 text-zinc-400\" />}\n                            {docType === 'blank' && <FileText className=\"w-4 h-4 text-zinc-400\" />}\n                            {DOC_TITLES[docType] || 'Document sans titre'}\n                        </span>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"text-xs text-zinc-500 hidden md:block\">\n                            {wordCount} mots ‚Ä¢ {charCount} car.\n                        </div>\n                        <button\n                            onClick={() => setShowExportModal(true)}\n                            className=\"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-sm px-4 py-2 rounded-lg font-medium hover:from-cyan-400 hover:to-blue-500 transition shadow-lg shadow-cyan-500/20\"\n                        >\n                            <Download className=\"w-4 h-4\" />\n                            <span className=\"hidden sm:inline\">Exporter</span>\n                        </button>\n                        <button\n                            onClick={() => setAiPanelOpen(!aiPanelOpen)}\n                            className=\"md:hidden p-2 text-zinc-400 hover:text-white\"\n                        >\n                            <Sparkles className=\"w-5 h-5\" />\n                        </button>\n                    </div>\n                </header>\n\n                {/* Editor Area */}\n                <div className=\"flex-1 flex overflow-hidden\">\n                    <div className=\"flex-1 flex flex-col min-w-0\">\n                        {/* Toolbar */}\n                        <EditorToolbar\n                            editor={editor}\n                            aiLoading={aiLoading}\n                            onCallAI={callAI}\n                            dictation={{\n                                isListening: dictation.isListening,\n                                isSupported: dictation.isSupported,\n                                onToggle: dictation.toggleDictation,\n                            }}\n                        />\n\n                        {/* Editor */}\n                        <div className=\"flex-1 overflow-auto p-4 sm:p-8 custom-scrollbar\">\n                            <div className=\"max-w-3xl mx-auto bg-zinc-900/30 min-h-[500px] p-8 rounded-xl shadow-inner border border-zinc-800/50\">\n                                <EditorContent editor={editor} />\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* AI Panel */}\n                    <AIPanel\n                        isOpen={aiPanelOpen}\n                        onClose={() => setAiPanelOpen(false)}\n                        aiLoading={aiLoading}\n                        callAI={callAI}\n                        translation={{\n                            language: translationLang,\n                            setLanguage: setTranslationLang,\n                            onTranslate: handleTranslate,\n                            onTranslateSelection: handleTranslateSelection,\n                        }}\n                    />\n                </div>\n                {/* Floating Navigation Buttons */}\n                <div className=\"fixed bottom-8 right-8 flex flex-col gap-2 z-50\">\n                    <button\n                        onClick={() => scrollPage('up')}\n                        className=\"p-3 bg-zinc-800/80 hover:bg-zinc-700 backdrop-blur-sm text-zinc-300 rounded-full shadow-lg border border-zinc-700 transition-all hover:scale-110\"\n                        title=\"Page pr√©c√©dente\"\n                    >\n                        <ChevronRight className=\"w-5 h-5 -rotate-90\" />\n                    </button>\n                    <button\n                        onClick={() => scrollPage('down')}\n                        className=\"p-3 bg-cyan-600/80 hover:bg-cyan-500 backdrop-blur-sm text-white rounded-full shadow-lg shadow-cyan-500/20 border border-cyan-500/50 transition-all hover:scale-110\"\n                        title=\"Page suivante\"\n                    >\n                        <ChevronRight className=\"w-5 h-5 rotate-90\" />\n                    </button>\n                </div>\n            </main>\n        </div>\n    )\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\pricing\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\app\\subscribe\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingCTA.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingFooter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingHero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingHowItWorks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingNavbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\landing\\LandingTestimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\components\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\hooks\\useEditorDictation.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'showNotification'. Either include it or remove the dependency array. If 'showNotification' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":37,"column":8,"nodeType":"ArrayExpression","endLine":37,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [isListening, showNotification]","fix":{"range":[1317,1330],"text":"[isListening, showNotification]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'showNotification'. Either include it or remove the dependency array. If 'showNotification' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":56,"column":8,"nodeType":"ArrayExpression","endLine":56,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [error, showNotification]","fix":{"range":[2143,2150],"text":"[error, showNotification]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef } from 'react'\r\nimport { Editor } from '@tiptap/react'\r\nimport { useSpeechRecognition } from '@/hooks/useSpeechRecognition'\r\n\r\ninterface UseEditorDictationReturn {\r\n    isListening: boolean\r\n    isSupported: boolean\r\n    toggleDictation: () => void\r\n    error: string | null\r\n}\r\n\r\nexport function useEditorDictation(\r\n    editor: Editor | null,\r\n    showNotification: (type: 'success' | 'error', message: string) => void\r\n): UseEditorDictationReturn {\r\n    const { isListening, transcript, startListening, stopListening, isSupported, error } = useSpeechRecognition()\r\n    const prevTranscriptRef = useRef('')\r\n\r\n    // Insert transcribed text into editor in real-time\r\n    useEffect(() => {\r\n        if (!editor || !transcript) return\r\n\r\n        // Calculate the new text to insert (only the delta)\r\n        const newText = transcript.slice(prevTranscriptRef.current.length)\r\n        if (newText) {\r\n            editor.commands.insertContent(newText)\r\n            prevTranscriptRef.current = transcript\r\n        }\r\n    }, [transcript, editor])\r\n\r\n    // Reset transcript ref when dictation starts\r\n    useEffect(() => {\r\n        if (isListening) {\r\n            prevTranscriptRef.current = ''\r\n            showNotification('success', 'Dict√©e activ√©e (parlez maintenant)')\r\n        }\r\n    }, [isListening])\r\n\r\n    // Handle Dictation Errors\r\n    useEffect(() => {\r\n        if (error) {\r\n            let message = 'Erreur microphone'\r\n\r\n            if (error === 'not-allowed') {\r\n                if (typeof window !== 'undefined' && !window.isSecureContext) {\r\n                    message = 'Microphone requis HTTPS. Veuillez utiliser une connexion s√©curis√©e.'\r\n                } else {\r\n                    message = 'Acc√®s au micro refus√©. Cliquez sur üîí dans la barre d\\'adresse pour autoriser.'\r\n                }\r\n            }\r\n            if (error === 'no-speech') message = 'Aucune parole d√©tect√©e. Parlez plus fort ou v√©rifiez votre micro.'\r\n            if (error === 'network') message = 'Erreur r√©seau (requise pour le speech-to-text).'\r\n\r\n            showNotification('error', message)\r\n        }\r\n    }, [error])\r\n\r\n    const toggleDictation = () => {\r\n        if (isListening) {\r\n            stopListening()\r\n        } else {\r\n            startListening()\r\n        }\r\n    }\r\n\r\n    return {\r\n        isListening,\r\n        isSupported,\r\n        toggleDictation,\r\n        error\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\hooks\\useSpeechRecognition.ts","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\syphe\\Desktop\\saas\\src\\hooks\\useSpeechRecognition.ts:62:9\n  60 |\n  61 |         const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition\n> 62 |         setIsSupported(!!SpeechRecognitionAPI)\n     |         ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  63 |\n  64 |         if (SpeechRecognitionAPI) {\n  65 |             const recognition = new SpeechRecognitionAPI()","line":62,"column":9,"nodeType":null,"endLine":62,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect, useCallback, useRef } from 'react'\r\n\r\n// TypeScript declarations for Web Speech API\r\ninterface SpeechRecognitionEvent extends Event {\r\n    results: SpeechRecognitionResultList\r\n    resultIndex: number\r\n}\r\n\r\ninterface SpeechRecognitionErrorEvent extends Event {\r\n    error: string\r\n    message: string\r\n}\r\n\r\ninterface SpeechRecognition extends EventTarget {\r\n    continuous: boolean\r\n    interimResults: boolean\r\n    lang: string\r\n    start(): void\r\n    stop(): void\r\n    abort(): void\r\n    onresult: ((event: SpeechRecognitionEvent) => void) | null\r\n    onerror: ((event: SpeechRecognitionErrorEvent) => void) | null\r\n    onend: (() => void) | null\r\n    onstart: (() => void) | null\r\n}\r\n\r\ndeclare global {\r\n    interface Window {\r\n        SpeechRecognition: new () => SpeechRecognition\r\n        webkitSpeechRecognition: new () => SpeechRecognition\r\n    }\r\n}\r\n\r\ninterface UseSpeechRecognitionReturn {\r\n    isListening: boolean\r\n    transcript: string\r\n    interimText: string\r\n    startListening: () => void\r\n    stopListening: () => void\r\n    isSupported: boolean\r\n    error: string | null\r\n}\r\n\r\nexport function useSpeechRecognition(lang: string = 'fr-FR'): UseSpeechRecognitionReturn {\r\n    const [isListening, setIsListening] = useState(false)\r\n    const [transcript, setTranscript] = useState('')\r\n    const [interimText, setInterimText] = useState('')\r\n    const [error, setError] = useState<string | null>(null)\r\n    const [isSupported, setIsSupported] = useState(false)\r\n\r\n    const recognitionRef = useRef<SpeechRecognition | null>(null)\r\n    const finalTranscriptRef = useRef('')\r\n\r\n    // Check browser support on mount\r\n    useEffect(() => {\r\n        // Skip on server-side\r\n        if (typeof window === 'undefined') return\r\n\r\n        const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition\r\n        setIsSupported(!!SpeechRecognitionAPI)\r\n\r\n        if (SpeechRecognitionAPI) {\r\n            const recognition = new SpeechRecognitionAPI()\r\n            recognition.continuous = true\r\n            recognition.interimResults = true\r\n            recognition.lang = lang\r\n\r\n            recognition.onstart = () => {\r\n                setIsListening(true)\r\n                setError(null)\r\n            }\r\n\r\n            recognition.onresult = (event: SpeechRecognitionEvent) => {\r\n                let currentInterim = ''\r\n\r\n                for (let i = event.resultIndex; i < event.results.length; i++) {\r\n                    const result = event.results[i]\r\n                    if (result.isFinal) {\r\n                        // Add final result to accumulated transcript\r\n                        finalTranscriptRef.current += result[0].transcript\r\n                        setTranscript(finalTranscriptRef.current)\r\n                        setInterimText('')\r\n                    } else {\r\n                        currentInterim += result[0].transcript\r\n                    }\r\n                }\r\n\r\n                // Update interim text for real-time feedback\r\n                if (currentInterim) {\r\n                    setInterimText(currentInterim)\r\n                }\r\n            }\r\n\r\n            recognition.onerror = (event: SpeechRecognitionErrorEvent) => {\r\n                setError(event.error)\r\n                setIsListening(false)\r\n            }\r\n\r\n            recognition.onend = () => {\r\n                setIsListening(false)\r\n            }\r\n\r\n            recognitionRef.current = recognition\r\n        }\r\n\r\n        return () => {\r\n            if (recognitionRef.current) {\r\n                recognitionRef.current.abort()\r\n            }\r\n        }\r\n    }, [lang])\r\n\r\n    const startListening = useCallback(() => {\r\n        if (recognitionRef.current && !isListening) {\r\n            setTranscript('')\r\n            setInterimText('')\r\n            finalTranscriptRef.current = ''\r\n            setError(null)\r\n            try {\r\n                recognitionRef.current.start()\r\n            } catch {\r\n                // Already started, ignore\r\n            }\r\n        }\r\n    }, [isListening])\r\n\r\n    const stopListening = useCallback(() => {\r\n        if (recognitionRef.current && isListening) {\r\n            recognitionRef.current.stop()\r\n        }\r\n    }, [isListening])\r\n\r\n    return {\r\n        isListening,\r\n        transcript,\r\n        interimText,\r\n        startListening,\r\n        stopListening,\r\n        isSupported,\r\n        error,\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\actions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\ai-prompts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\export-utils.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":13,"column":5,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":13,"endColumn":18,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[599,612],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\groq.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3161,3164],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3161,3164],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { logger } from '@/lib/logger'\r\nimport { EXTENSIVE_SYSTEM_PROMPT, PROMPTS } from './ai-prompts'\r\n\r\nconst GROQ_API_KEY = process.env.GROQ_API_KEY\r\nconst GROQ_API_URL = 'https://api.groq.com/openai/v1/chat/completions'\r\n\r\nexport type AIAction =\r\n    | 'auto-format'\r\n    | 'fix-errors'\r\n    | 'continue-writing'\r\n    | 'suggest-ideas'\r\n    | 'summarize'\r\n    | 'generate-table'\r\n    | 'improve-paragraph'\r\n    | 'smart-heading'\r\n    | 'improve-spacing'\r\n    | 'translate'\r\n    | 'translate-selection'\r\n\r\ninterface AIRequest {\r\n    action: AIAction\r\n    content: string\r\n    theme?: string\r\n    documentType?: string\r\n}\r\n\r\nfunction resolvePrompt(action: AIAction, theme: string, docType: string): string {\r\n    if (action === 'continue-writing') return PROMPTS['continue-writing'](theme, docType)\r\n    if (action === 'suggest-ideas') return PROMPTS['suggest-ideas'](theme)\r\n    if (action === 'generate-table') return PROMPTS['generate-table'](theme, docType)\r\n    if (action === 'translate') return PROMPTS['translate'](theme)\r\n    if (action === 'translate-selection') return PROMPTS['translate-selection'](theme)\r\n\r\n    const simplePrompt = PROMPTS[action as keyof typeof PROMPTS]\r\n    if (typeof simplePrompt === 'string') return simplePrompt\r\n\r\n    throw new Error(`Unknown action: ${action}`)\r\n}\r\n\r\nexport async function processAIRequest({ action, content, theme, documentType }: AIRequest): Promise<string> {\r\n    if (!GROQ_API_KEY) {\r\n        throw new Error('Missing GROQ_API_KEY')\r\n    }\r\n\r\n    const validTheme = theme || 'general'\r\n    const validDocType = documentType || 'document'\r\n\r\n    const context = `\r\n    ACTION: ${action}\r\n    THEME: ${validTheme}\r\n    DOCUMENT TYPE: ${validDocType}\r\n    CONTENT:\r\n    \"${content}\"\r\n    `\r\n\r\n    const prompt = resolvePrompt(action, validTheme, validDocType)\r\n\r\n    try {\r\n        const response = await fetch(GROQ_API_URL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': `Bearer ${GROQ_API_KEY}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                model: 'llama-3.3-70b-versatile', // Fast & Powerful\r\n                messages: [\r\n                    {\r\n                        role: 'system',\r\n                        content: EXTENSIVE_SYSTEM_PROMPT\r\n                    },\r\n                    {\r\n                        role: 'user',\r\n                        content: `${prompt}\\n\\n${context}`\r\n                    }\r\n                ],\r\n                temperature: 0.3,\r\n                max_completion_tokens: 4000,\r\n            })\r\n        })\r\n\r\n        if (!response.ok) {\r\n            const errorData = await response.json().catch(() => ({}))\r\n            throw new Error(errorData.error?.message || `Groq API Error: ${response.status}`)\r\n        }\r\n\r\n        const data = await response.json()\r\n        let text = data.choices[0]?.message?.content || ''\r\n\r\n        // Cleanup markdown code blocks common in LLM outputs\r\n        text = text\r\n            .replace(/^```html/, '')\r\n            .replace(/```$/, '')\r\n            .trim()\r\n\r\n        return text\r\n    } catch (error: any) {\r\n        logger.error('Groq API Error:', error)\r\n        throw new Error(error.message || 'Failed to process with Groq AI')\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\logger.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isProduction' is assigned a value but never used.","line":5,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":19}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[388,391],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[388,391],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[649,652],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[649,652],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[883,886],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[883,886],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1148,1151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1148,1151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Production-ready logger that suppresses output in production\n// In production, logs should be sent to a proper logging service\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst isProduction = process.env.NODE_ENV === 'production'\n\nclass Logger {\n    info(message: string, ...args: unknown[]) {\n        if (process.env.NODE_ENV !== 'production') {\n\n            (console as any)['log'](`[INFO] ${message}`, ...args)\n        }\n        // In production: send to logging service (e.g., Sentry, LogRocket)\n    }\n\n    warn(message: string, ...args: unknown[]) {\n        if (process.env.NODE_ENV !== 'production') {\n\n            (console as any)['warn'](`[WARN] ${message}`, ...args)\n        }\n        // In production: send to logging service\n    }\n\n    error(message: string, error?: unknown) {\n        if (process.env.NODE_ENV !== 'production') {\n\n            (console as any)['error'](`[ERROR] ${message}`, error || '')\n        }\n        // In production: send to error tracking service (e.g., Sentry)\n    }\n\n    debug(message: string, ...args: unknown[]) {\n        if (process.env.NODE_ENV !== 'production') {\n\n            (console as any)['log'](`[DEBUG] ${message}`, ...args)\n        }\n    }\n}\n\nexport const logger = new Logger()\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\rate-limit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\subscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\templates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\usage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\user-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\lib\\validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\src\\types\\next-auth.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\verify.js","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":51,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\syphe\\Desktop\\saas\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]